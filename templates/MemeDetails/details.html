<!doctype html>
<html>
	<head>
	    <meta charset="utf-8">
	    <title>Meme Detail Page</title>
	    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

	    <style>
			.padding {
				padding-top: 10px;
			}
	    </style>

	</head>

	<header class="bg-dark p-2 text-center">
	{% extends "base.html" %}
	    {% block content %}

        {% load static %}

        <link rel="stylesheet" href="{% static 'TheMemeExchange/theme.css' %}">
        
    </header> 
	<body>
		
	    <h2 style="text-align: center; padding-bottom: 30px">"{{ image.description }}"</h2>

	    {% load static %}

	    <div style="padding-left: 150px; padding-bottom: 25px; ">
	    	<span class="rounded " style="width: 600px; text-align: center; ">
				<img class="rounded border " src="{{image.link}}" alt="My image" style="max-width: 600px" height="400" width="auto">
			</span>
			<span style="padding-left: 25px; padding-top: 10px">
				<b style="padding-left: 10px; font-size: 25px" >Creator: </b>
				<label style="font-size: 20px"> {{ user.username }}</label>
				{% if image.creator == request.user.id %}
					<span style="padding-left: 10px; padding-top: 25px">
						<label class="rounded " style="font-size: 20px; padding: 10px; border: dotted; background: #124B63; color: #ffffff">This is your meme!</label>
					</span>
				{% elif image.id in owned %}
					<span style="padding-left: 10px; padding-top: 25px">
						<label class="rounded " style="font-size: 20px; padding: 10px; border: dotted; background: #124B63; color: #ffffff">You already own this!</label>
					</span>
				{% else %}
					{% if image.id in cart %}
						<span style="padding-left: 10px; padding-top: 25px">
							<label class="rounded " style="font-size: 20px; padding: 10px; border: dotted; background: #124B63; color: #ffffff">Added!</label>
						</span>
					{% else %}
						<form style="padding-left: 10px; padding-top: 25px" action="../../memeDetails/addToCart/{{ image.id }}/" method="post"> {% csrf_token %}
							<input type="submit" class="rounded " style="font-size: 20px; padding: 10px; border: dotted; background: #124B63; color: #ffffff" value="Add to Cart"/>
						</form>
					{% endif %}
				{% endif %}
			</span>
			<br><br>
		</div>
		<div style="padding-top: 10px; padding-left: 150px;">
			<span>{{image.likes}} memers have bought this dank masterpiece</span> <br>
			<b style="font-size: 25px">Tags: </b>
			<label style="font-size: 20px"> {{ image.tags }}</label>
		</div>

	    {% endblock %}
	</body>
</html>
